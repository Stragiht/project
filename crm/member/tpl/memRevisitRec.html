<div class="bg-light lter wrapper-md">
  <h4 class="m-n font-thin h4"style="color:#000"> BA回访记录</h4>
</div>                                                                                              

<!-- 内容 -->
<div class="panel panel-default"  ng-controller="memRevisitRecCtrl as demo"  >
    <toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
    <div class="panel-heading"   >
        <accordion close-others="oneAtATime">
            <accordion-group is-open="status.open"  >
                <accordion-heading>
                    查询<i class="pull-right fa fa-angle-right" ng-class="{'fa-angle-down': status.open, 'fa-angle-right': !status.open}"></i>
                </accordion-heading>

                <form name="form" class="form-horizontal">
                    <!-- 第一行 -->
                    <div class="form-group">
                        <label class="col-sm-2 control-label">会员编号：</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" ng-model="selectMembRevisitRecList.params.membNum" >
                        </div>
                        <label class="col-sm-2 control-label">会员姓名：</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" ng-model="selectMembRevisitRecList.params.membNm" >
                        </div>
                        <label class="col-sm-2 control-label">联系电话：</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" ng-model="selectMembRevisitRecList.params.phone">
                        </div>
                    </div>
                    <!-- 第二行 -->
                    <div class="form-group">
                        <label class="col-sm-2 control-label">回访人员：</label>
                        <div class="col-sm-2">
                            <input type="text" class="form-control" placeholder="姓名" ng-model="selectMembRevisitRecList.params.stfNm">
                        </div>

                    </div>
                    <!-- 第三行 -->
                    <div class="form-group">

                        <label class="col-sm-2 control-label">应回访时间：</label>
                        <div class="col-sm-3">
                            <div class="input-group w-md" ng-controller="DatepickerDemoCtrl"
                                    >
                                <input type="text" class="form-control"
                                       datepicker-popup="yyyy-MM-dd" ng-model="selectMembRevisitRecList.params.tskStartTime" is-open="opened"
                                       datepicker-options="dateOptions" readonly="readonly" />
                                    <span class="input-group-btn">
							            <button type="button" class="btn btn-default" ng-click="open($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
						            </span>
                            </div>
                        </div>
                        <label class="col-sm-1 control-label" style="margin-left: 40px;text-align: center;">至</label>
                        <div class="col-sm-3">
                            <div class="input-group w-md" ng-controller="DatepickerDemoCtrl"
                                    >
                                <input type="text" class="form-control"
                                       datepicker-popup="yyyy-MM-dd" ng-model="selectMembRevisitRecList.params.tskEndTime" is-open="opened"
                                       datepicker-options="dateOptions" readonly="readonly"  />
                                    <span class="input-group-btn">
							            <button type="button" class="btn btn-default" ng-click="open($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
						            </span>
                            </div>
                        </div>

                    </div>
                    <!-- 第四行 -->
                    <div class="form-group">

                        <label class="col-sm-2 control-label">实际回访时间：</label>
                        <div class="col-sm-3">
                            <div class="input-group w-md" ng-controller="DatepickerDemoCtrl"
                                    >
                                <input type="text" class="form-control"
                                       datepicker-popup="yyyy-MM-dd" ng-model="selectMembRevisitRecList.params.revisitStartTime" is-open="opened"
                                       datepicker-options="dateOptions" readonly="readonly"  />
                                    <span class="input-group-btn">
							            <button type="button" class="btn btn-default" ng-click="open($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
						            </span>
                            </div>
                        </div>
                        <label class="col-sm-1 control-label" style="margin-left: 40px;text-align: center;">至</label>
                        <div class="col-sm-3">
                            <div class="input-group w-md" ng-controller="DatepickerDemoCtrl"
                                    >
                                <input type="text" class="form-control"
                                       datepicker-popup="yyyy-MM-dd" ng-model="selectMembRevisitRecList.params.revisitEndTime" is-open="opened"
                                       datepicker-options="dateOptions" readonly="readonly"  />
                                    <span class="input-group-btn">
							            <button type="button" class="btn btn-default" ng-click="open($event)">
                                            <i class="glyphicon glyphicon-calendar"></i>
                                        </button>
						            </span>
                            </div>
                        </div>

                    </div>
                    
                    <div class="form-group">
                        <label class="col-sm-2 control-label"></label>
                        <button class=" btn btn-info btn-addon" style="margin-left: 15px;width: 121px;" ng-click="searchMemRevRecList()" user-power="WMEM01007001">搜索</button>
                    </div>

                </form>
          </accordion-group>
        </accordion>    
    </div><!-- panel-heading -->

    <div style=" margin-bottom:15px;margin-top:15px;">

        <label class="control-label" style="margin:10px;">共有<input type="text"
                                                                   style="width:30px; text-align:center;  border:none;outline:medium;color: red"
                                                                   ng-model="gydst" readonly="readonly">
            条回访记录</label>
        <lable ng-if="gydst<1"><span style="margin-left: 20px;">( 没有符合条件的数据 )</span></lable>
    </div>

    <!-- 表格 -->
    <div class="table-responsive" style="padding-left:10px;padding-right:10px; " >

        <div ng-table="tableParams">

            <table class="table table-bordered table-condensed   table-striped " >

                <tr ng-repeat="memRevRec in $data">

                    <td title="'回访人员'"  style="text-align:center;min-width:120px; ">
                        <!--{{memRevRec.stfNm}}-->
                        <span ng-bind="memRevRec.stfNm"></span>
                    </td>
                    <td title="'职位'"  style="text-align:center;min-width:120px; ">
                        <!--{{memRevRec.posNm}}-->
                        <span ng-bind="memRevRec.posNm"></span>
                    </td>
                    <td title="'直属主管'"   style="text-align:center;min-width:120px; ">
                       <!-- {{memRevRec.supvrStfNm}}-->
                        <span ng-bind="memRevRec.supvrStfNm"></span>
                    </td>
                    <td title="'实际回访时间'"  style="text-align:center;min-width:180px; ">
                        <!--{{memRevRec.tskTm | date:'yyyy-MM-dd HH:mm:ss'}}-->
                       <!-- <span ng-bind="memRevRec.tskTm | date:'yyyy-MM-dd HH:mm:ss'"></span>-->

                        <span ng-bind="memRevRec.revisitTm | date:'yyyy-MM-dd HH:mm:ss'"></span>
                    </td>
                    <td title="'应回访时间'"  style="text-align:center;min-width:180px; ">
                        <!--{{memRevRec.revisitTm | date:'yyyy-MM-dd HH:mm:ss'}}-->
                       <!-- <span ng-bind="memRevRec.revisitTm | date:'yyyy-MM-dd HH:mm:ss'"></span>-->

                        <span ng-bind="memRevRec.tskTm | date:'yyyy-MM-dd'"></span>
                    </td>
                    <td title="'是否关联回访任务'"  style="text-align:center;min-width:100px;color: red; ">
                        <!--{{memRevRec.isRelRevisitTsk | dicNameFilter:'C002'}}-->
                        <span ng-bind="memRevRec.isRelRevisitTsk | dicNameFilter:'C002'"></span>
                    </td>
                    <td title="'受访会员编号'"  style="text-align:center;min-width:120px; ">
                       <!-- {{memRevRec.membNum}}-->
                        <span ng-bind="memRevRec.membNum"></span>
                    </td>
                    <td title="'会员姓名'"  style="text-align:center;min-width:120px;">
                        <!--{{memRevRec.membNm}}-->
                        <span ng-bind="memRevRec.membNm"></span>
                    </td>
                    <td title="'联系电话'"  style="text-align:center;min-width:120px;">
                        <!--{{memRevRec.phone}}-->
                        <span ng-bind="memRevRec.phone"></span>
                    </td>
                    <td title="'操作'"  style="text-align:center;min-width:120px; color: red">
                        <!--<a style="text-decoration:underline;color: #05b5ff;" ui-sref="app.member.memRevisitRecSelect({stfNum:memRev.stfNum,rtnTm:memRev.rtnTm,membNum:memRev.membNum})">查看</a>-->
                        <a style="text-decoration:underline;color: #05b5ff;" ui-sref="app.member.memRevisitRecSelect({oId:memRevRec.oId})" user-power="WMEM01007001">查看</a>
                        <a style="text-decoration:underline;color: #05b5ff;" ui-sref="app.member.memRevisitRecReply({oId:memRevRec.oId})" user-power="WMEM01007002">回复</a>
                    </td>

                </tr>

            </table>

        </div>

    </div>
  </div><!-- panel -->